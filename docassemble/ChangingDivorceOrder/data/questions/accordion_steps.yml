---
id: final screen
decoration: pen-to-square
event: confirmation_and_download
question: |
  % if len(step_list) < 2:
  Get more information or help
  % else:
  # <i class="fa-thin fa-list"></i>Your Personal Action Plan is ready!
  % endif
subquestion: |
  % if user_need == 'change foreign custody order':
  #### Your Personal Action Plan for changing your custody or Parenting Plan order from another state in ${ len(step_list) } steps
  % endif
  % if user_need == 'respond to motion in divorce':
  % if middle_of_case == 'no' and type_of_response == 'appeal':
  #### Your Personal Action Plan for responding to the appeal your ex filed to change a court order from your divorce case, in ${ len(step_list) } steps
  % endif
  % if middle_of_case == 'no' and type_of_response != 'appeal':
  #### Your Personal Action Plan for responding to a motion your ex filed to change a court order from your divorce case, in ${ len(step_list) } steps
  % endif
  % if middle_of_case == 'yes':
  #### Your Personal Action Plan for responding to a motion your spouse filed to change a court order in your divorce case, in ${ len(step_list) } steps
  % endif
  % endif
  % if user_need == 'change divorce order':
  % if middle_of_case == 'no' and type_of_final_order.all_false('spousal support', 'property or debt'):
  #### Your Personal Action Plan for changing your custody or Parenting Plan order from your divorce case in ${ len(step_list) } steps
  % elif middle_of_case == 'yes':
  #### Your Personal Action Plan for changing a court order during your divorce case in ${ len(step_list) } steps
  % else:
  #### Your Personal Action Plan for changing a court order from your divorce case in ${ len(step_list) } steps
  % endif
  % endif
    
  % if "docassembledev" in interview_url():
  <button id="akc_expand_all" class="btn other stuff">Expand all</button>
  <button id="akc_collapse_all" class="btn other stuff">Collapse all</button>
  % endif  
  
  % for iteration_index, step_tuple in enumerate( step_list ):
  ${ collapse_template(step_tuple[0], closed_icon="plus", open_icon="minus") }
  % endfor
  
  ${ al_user_bundle.download_list_html() }
  
  % if "docassembledev" in interview_url():
  [get the docx file](${ docx_changing_divorce_order_attachment.docx.url_for() })
  % endif 
   
buttons:
  - Start over: restart
script: |
  <script>
  let expander = $("#akc_expand_all")
  expander.on("click", function () {
   Array.from(document.querySelectorAll('.al_collapse_template .collapse')).forEach((elem) => { elem.className += " show" })
  })
  
  let collapser = $("#akc_collapse_all")
  collapser.on("click", function () {
      Array.from(document.querySelectorAll('.al_collapse_template .collapse')).forEach((elem) => { elem.className = elem.className.replace(" show", "" ) })
  })
  </script>
---
code: |
  # Temporarily disable why_change
  old_why_change = {
     'set aside clerical error': True,
     'set aside mistake of fact': True,
     'set aside new evidence': True,
     'set aside misconduct': True,
     'modify circumstances changed': True,
     'modify parent to jail': True,
     'modify domestic violence': True,
     'modify other change': True,
     'appeal legal mistake': True,
     'set aside new evidence': True,
  }

  log('start','console')
  step_list = []
  if len(step_list) >= 2:
    pdf_pap_multistep_subtitle = True
  images_list = []
  distribution_certificate_list = []
  reply_certificate_list = []
  other_party_in_case  = 'your spouse or ex'
  case_type = 'divorce'
  # certificate_of_service_image = ''
  distribution_certificate_list.append({'image': distrib_cert_custody_divorce_image, 'text': "Certificate of Distribution shows the date the court sent your order to you."})
  file_motion_to_set_aside = ''
  file_motion_to_enforce = ''
  file_modify_filing_fee = ''
  # expect_after_motion is in what to expect step for filing motion for interim order w complaint, or answer/response, cannot use variable in docx template, must insert condition in what to expect step.
  expect_after_motion = ''
  reply_certificate_list.append({'image': service_cert_reply_image, 'text': "Certificate of Service at the bottom of the Reply form."})
  # motion_type used in expect_after_motion_step "What to expect after you file a ${ motion_type }"
  motion_type = 'motion'
    
  # Row 1
  if user_need == 'change foreign custody order':
    other_party_in_case  = 'the other parent'
    add_unique_step((foreign_order_step, "foreign_order_idx"), step_list)
    add_unique_step((ak_jurisdiction_step, "ak_jurisdiction_idx"), step_list)
    add_unique_step((register_order_step, "register_order_idx"), step_list)
    add_unique_step((modify_step, "modify_idx"), step_list)
    add_unique_step((fill_modify_step, "fill_modify_idx"), step_list)
    add_unique_step((calculate_child_support_step, "calculate_child_support_idx"), step_list)
    add_unique_step((dont_wait_modify_custody_divorce_step, "dont_wait_modify_custody_divorce_idx"), step_list)
    add_unique_image({'image': service_cert_modify_image, 'text': "Certificate of Service at the bottom of a Motion to Modify."}, images_list)
    add_unique_step((cert_of_service_step, "cert_of_service_idx"), step_list)
    file_step_heading = 'File your Motion to Modify'
    file_modify_filing_fee = '<li>Pay the $75 fee to file your Motion to Modify.</br>If you cannot afford the filing fee, you can ask the court to waive it:</li><ul><li>Call the <a href="https://courts.alaska.gov/shc/family">Family Law Self-HelpCenter</a><br>(907)264-0851, or<br>(866)279-0851,<br>or</li><li>Use <strong>Exemption From the Payment of Fees, TF-920</strong>[<a href="https://public.courts.alaska.gov/web/forms/docs/tf-920.pdf">Fill-In PDF</a>]</li></ul>'
    add_unique_step((file_motion_step, "file_motion_idx"), step_list)
    add_unique_step((serve_motion_step, "serve_motion_idx"), step_list)
    motion_type = 'Motion to Modify'
    add_unique_step((expect_after_motion_step, "expect_after_motion_idx"), step_list)
  
  elif user_need == 'respond to motion in divorce':
    if middle_of_case == 'yes':
      other_party_in_case = "your spouse"
    else:
      other_party_in_case = "your ex"
  
    # Rows 2 - 10
    if type_of_response == 'modify':
      motion_type = 'Motion to Modify' 
    
    # Rows 2 - 10
    if type_of_response == 'modify' and type_of_modification.any_true('child support', 'custody'):
      add_unique_step((modify_step, "modify_idx"), step_list)
    if type_of_response == 'modify' and type_of_modification.any_true('spousal support', 'property or debt', 'other'):
      add_unique_step((modify_divorce_step, "modify_divorce_idx"), step_list)
    # Rows 2 - 10

    # Row 11
    if type_of_response == 'reconsider' and respond_to_reconsider:
      add_unique_step((respond_to_reconsider_step, "respond_to_reconsider_idx"), step_list)
      
    # Row 12 - 14
    if middle_of_case == 'no' and type_of_response == 'set aside':
      motion_type = 'Motion to Set Aside Judgment or Order'
      
      
    # Rows 2, 5, 8 & 12 
    if (type_of_response == 'modify' and respond_to_modify == 'agree') or ( middle_of_case == 'no' and type_of_response =='set aside' and respond_to_set_aside == 'agree'):
      add_unique_step((let_court_party_know_you_agree_step, "let_court_party_know_you_agree_idx"), step_list)
    
    # Row 2-10, 12-14
    if type_of_response == 'modify' or (middle_of_case == 'no' and type_of_response == 'set aside'):
      add_unique_step((respond_in_writing_step, "respond_in_writing_idx"), step_list)
    
    # Row 2-14  
    # if type_of_response == 'modify' or (middle_of_case == 'no' and type_of_response == 'set aside'):
      add_unique_step((cert_of_service_step, "cert_of_service_idx"), step_list)
      add_unique_step((file_response_step, "file_response_idx"), step_list)
    
    # Row 2-10, 12-14
    # if type_of_response == 'modify' or (middle_of_case == 'no' and type_of_response == 'set aside'):
      add_unique_step((expect_after_response_step, "expect_after_response_idx"), step_list)
      
    if (type_of_response == 'modify' and respond_to_modify == 'agree') or (middle_of_case == 'no' and type_of_response == 'set aside' and respond_to_set_aside == 'agree'):
      add_unique_step((contact_other_party_step, "contact_other_party_idx"), step_list)    
      add_unique_step((file_agreement_step, "file_agreement_idx"), step_list)
    
    # Row 15
    if middle_of_case == 'no' and  type_of_response == 'appeal' and respond_to_appeal == 'agree':
      add_unique_step((appeal_response_step, "appeal_response_idx"), step_list)
      add_unique_step((appeal_contact_parent_step, "appeal_contact_parent_idx"), step_list)
      add_unique_step((tell_supreme_court_step, "tell_supreme_court_idx"), step_list)
    
    # Rows 16 & 17
    if middle_of_case == 'no' and type_of_response == 'appeal' and respond_to_appeal in('some','none'):
      add_unique_step((appeal_response_step, "appeal_response_idx"), step_list)
    
  else:    
       ##################### middle of case
    if middle_of_case == 'yes':
      other_party_in_case = 'your spouse'
      
    # Rows 18-19 
    if middle_of_case == 'yes' \
      and type_of_interim_order == 'motion' \
      and interim_order_date_within_10_days:
      if parents_agree:
        add_unique_step((pick_a_step_step, "pick_a_step_idx"), step_list)
        add_unique_step((parents_agree_step, "parents_agree_idx"), step_list)
        add_unique_step((tell_the_court_step, "tell_the_court_idx"), step_list)
      add_unique_step((learn_reconsider_step, "learn_reconsider_idx"), step_list)
      add_unique_step((fill_reconsider_step, "fill_reconsider_idx"), step_list)
      add_unique_image({'image': service_cert_reconsider_set_aside_image, 'text': "Certificate of Service at the bottom of the Motion to Reconsider"}, images_list)
      add_unique_step((cert_of_service_step, "cert_of_service_idx"), step_list)
      file_step_heading = 'File your Motion to Reconsider'
      add_unique_step((file_motion_step, "file_motion_idx"), step_list)
      add_unique_step((serve_motion_step, "serve_motion_idx"), step_list)
      add_unique_step((expect_reconsider_step, "expect_reconsider_idx"), step_list)
      
    # Rows 20 & 21
    if middle_of_case == 'yes' \
      and type_of_interim_order == 'motion' \
      and not interim_order_date_within_10_days: 
      if parents_agree:
        add_unique_step((pick_a_step_step, "pick_a_step_idx"), step_list)
        add_unique_step((parents_agree_step, "parents_agree_idx"), step_list)
        add_unique_step((tell_the_court_step, "tell_the_court_idx"), step_list)
      add_unique_step((motion_forms_step, "motion_forms_idx"), step_list)
      add_unique_image({'image': service_cert_motion_shc_1300_image, 'text': "Certificate of Service at the bottom of a motion."}, images_list)
      add_unique_step((cert_of_service_step, "cert_of_service_idx"), step_list) 
      add_unique_step((file_motion_step, "file_motion_idx"), step_list)
      add_unique_step((serve_motion_step, "serve_motion_idx"), step_list)
      add_unique_step((expect_after_motion_step, "expect_after_motion_idx"), step_list)
   
    # Rows 22-23 
    if middle_of_case == 'yes' \
      and type_of_interim_order == 'standing order':
      if parents_agree:
        add_unique_step((pick_a_step_step, "pick_a_step_idx"), step_list)
        add_unique_step((parents_agree_step, "parents_agree_idx"), step_list)
        add_unique_step((tell_the_court_step, "tell_the_court_idx"), step_list)
      add_unique_step((standing_order_step, "standing_order_idx"), step_list) 
      add_unique_step((motion_forms_step, "motion_forms_idx"), step_list)
      add_unique_image({'image': service_cert_motion_shc_1300_image, 'text': "Certificate of Service at the bottom of a motion."}, images_list)
      add_unique_step((cert_of_service_step, "cert_of_service_idx"), step_list) 
      add_unique_step((file_motion_step, "file_motion_idx"), step_list)
      add_unique_step((serve_motion_step, "serve_motion_idx"), step_list)
      add_unique_step((expect_after_motion_step, "expect_after_motion_idx"), step_list)

       ##################### after final order
    if middle_of_case == 'no':
      if type_of_final_order.all_true('custody order', exclusive = True):
        other_party_in_case = 'the other parent'
      else:
        other_party_in_case = 'your ex'

      if (type_of_final_order['custody order'] \
          and why_change in('review', 'schedule')) \
        and (type_of_final_order.any_true('property or debt', 'spousal support') \
          and why_change_divorce_order == 'changed circumstances'):
        file_modify_filing_fee = '<li>Pay one $75 fee to file both Motions to Modify at the same time. If you file your motions on different days, you must pay a $75 filing fee for each Motion to Modify.</br>If you cannot afford the filing fee, you can ask the court to waive it:</li><ul><li>Call the <a href="https://courts.alaska.gov/shc/family">Family Law Self-Help Center</a><br>(907)264-0851, or<br>(866)279-0851,<br>or</li><li>Use <strong>Exemption From the Payment of Fees, TF-920</strong>[<a href="https://public.courts.alaska.gov/web/forms/docs/tf-920.pdf">Fill-In PDF</a>]</li></ul>'
      elif (type_of_final_order['custody order'] \
          and why_change in('review', 'schedule')) \
        or (type_of_final_order.any_true('property or debt', 'spousal support') \
          and why_change_divorce_order == 'changed circumstances'):
        file_modify_filing_fee = '<li>Pay the $75 fee to file your Motion to Modify.</br>If you cannot afford the filing fee, you can ask the court to waive it:</li><ul><li>Call the <a href="https://courts.alaska.gov/shc/family">Family Law Self-HelpCenter</a><br>(907)264-0851, or<br>(866)279-0851,<br>or</li><li>Use <strong>Exemption From the Payment of Fees, TF-920</strong>[<a href="https://public.courts.alaska.gov/web/forms/docs/tf-920.pdf">Fill-In PDF</a>]</li></ul>'
      
      if parents_agree:
        add_unique_step((pick_a_step_step, "pick_a_step_idx"), step_list)
        add_unique_step((parents_agree_step, "parents_agree_idx"), step_list)
        add_unique_step((tell_the_court_step, "tell_the_court_idx"), step_list)
      
      if defined('final_order_period') \
        and guess_final_order_date == 'unknown':
          if unknown_final_date.all_true('reconsider', 'appeal') or unknown_final_date.all_true('reconsider', 'set aside') or unknown_final_date.all_true('appeal', 'set aside') or unknown_final_date.all_true('reconsider', 'appeal', 'set aside'):
            add_unique_step((pick_a_step_step, "pick_a_step_idx"), step_list)

      # Rows 24-27
      if type_of_final_order['custody order'] \
        and why_change in('review', 'schedule'):
        add_unique_step((modify_step, "modify_idx"), step_list)
        add_unique_step((fill_modify_step, "fill_modify_idx"), step_list)
        add_unique_step((calculate_child_support_step, "calculate_child_support_idx"), step_list)
        add_unique_step((dont_wait_modify_custody_divorce_step, "dont_wait_modify_custody_divorce_idx"), step_list)
        add_unique_image({'image': service_cert_modify_image, 'text': "Certificate of Service at the bottom of a Motion to Modify."}, images_list)
        if type_of_final_order.all_true('custody order', exclusive = True):
          file_step_heading = 'File your Modify Custody, Visitation & Support Packet'
          motion_type = 'Motion to Modify'
        
      # Rows 48-49, 67-68 
      if type_of_final_order.any_true('property or debt', 'spousal support') \
        and why_change_divorce_order == 'changed circumstances':
        add_unique_step((modify_divorce_step, "modify_divorce_idx"), step_list)
        add_unique_step((fill_modify_divorce_step, "fill_modify_divorce_idx"), step_list)
        add_unique_image({'image': service_cert_modify_spousal_support_property_image, 'text': "Certificate of Service at the bottom of a Request to Modify Order or Decree Concerning Spousal Maintenance or Property Allocation."}, images_list)
        if not type_of_final_order['custody order']:
          file_step_heading = 'File your Request to Modify Order or Decree Concerning Spousal Maintenance or Property Allocation'
          motion_type = 'Motion to Modify'
          log('--simple modify divorce', "console")

      if ((type_of_final_order['custody order'] \
            and why_change == 'problem') \
          or (type_of_final_order.any_true('property or debt','spousal support') \
            and why_change_divorce_order == 'problem')) \
        and final_order_date_within_10_days:
        add_unique_step((learn_reconsider_step, "learn_reconsider_idx"), step_list)
        add_unique_step((fill_reconsider_step, "fill_reconsider_idx"), step_list)
        add_unique_image({'image': service_cert_reconsider_set_aside_image, 'text': "Certificate of Service at the bottom of the Motion to Set Aside."}, images_list)
        if not ((type_of_final_order['custody order'] \
                 and why_change in('review', 'schedule')) \
             or (type_of_final_order.any_true('property or debt','spousal support') \
                 and why_change_divorce_order == 'changed circumstances')):
          file_step_heading = 'File your Motion to Reconsider'
        else:
          motion_type = 'Motion to Modify'

      if (type_of_final_order['custody order'] \
          and why_change == 'problem' \
          and final_order_date_within_15_days) \
        or (type_of_final_order.any_true('property or debt','spousal support') \
          and why_change_divorce_order == 'problem' \
          and final_order_date_within_30_days):
        add_unique_step((appeal_step, 'appeal_idx'), step_list)
        add_unique_step((learn_set_aside_step, "learn_set_aside_idx"), step_list)
        add_unique_step((fill_set_aside_step, "fill_set_aside_idx"), step_list)
        add_unique_image({'image': service_cert_reconsider_set_aside_image, 'text': "Certificate of Service at the bottom of the Motion to Set Aside."}, images_list)
        if not ((type_of_final_order['custody order'] \
                 and why_change in('review', 'schedule')) \
             or (type_of_final_order.any_true('property or debt','spousal support') \
                 and why_change_divorce_order == 'changed circumstances')):
          file_motion_to_set_aside = 'If you decide to file a **Motion to Set Aside** because it fits your case:'
          file_step_heading = 'File your Motion to Set Aside'
          motion_type = 'Motion to Set Aside'

      if ((type_of_final_order['custody order'] \
            and why_change == 'problem') \
          or (type_of_final_order.any_true('property or debt','spousal support') \
            and why_change_divorce_order == 'problem')) \
        and (final_order_date_within_30_days \
          or final_order_date_more_30_days):
        add_unique_step((learn_set_aside_step, "learn_set_aside_idx"), step_list)
        add_unique_step((fill_set_aside_step, "fill_set_aside_idx"), step_list)
        add_unique_image({'image': service_cert_reconsider_set_aside_image, 'text': "Certificate of Service at the bottom of the Motion to Set Aside."}, images_list)
        if not ((type_of_final_order['custody order'] \
                 and why_change in('review', 'schedule')) \
             or (type_of_final_order.any_true('property or debt','spousal support') \
                 and why_change_divorce_order == 'changed circumstances')):
          file_motion_to_set_aside = 'If you decide to file a **Motion to Set Aside** because it fits your case:'
          file_step_heading = 'File your Motion to Set Aside'
          motion_type = 'Motion to Set Aside'

      if ((type_of_final_order['custody order'] \
            and why_change == 'problem') \
          or (type_of_final_order.any_true('property or debt','spousal support') \
              and why_change_divorce_order == 'problem')) \
          and showifdef('guess_final_order_date') != 'unknown':
          add_unique_step((cert_of_service_step, "cert_of_service_idx"), step_list)
          add_unique_step((file_motion_step, "file_motion_idx"), step_list)
          add_unique_step((serve_motion_step, "serve_motion_idx"), step_list)
          if not final_order_date_within_10_days:
            # motion_type = 'Motion to Set Aside'
            add_unique_step((expect_after_motion_step, "expect_after_motion_idx"), step_list)
            log('known final order date motion','console')
          if final_order_date_within_10_days:
            add_unique_step((expect_reconsider_step, "expect_reconsider_idx"), step_list)
            log('known final order date reconsider','console')

  #####user does not know the date of final order.
  #### Add steps for specific motions
      if defined('final_order_period') \
        and guess_final_order_date == 'unknown':
          if unknown_final_date['reconsider']:
            add_unique_step((learn_reconsider_step, "learn_reconsider_idx"), step_list)
            add_unique_step((fill_reconsider_step, "fill_reconsider_idx"), step_list)
          if unknown_final_date['appeal']:
            add_unique_step((appeal_step, "appeal_idx"), step_list)
          if unknown_final_date['set aside']:
            add_unique_step((learn_set_aside_step, "learn_set_aside_idx"), step_list)
            add_unique_step((fill_set_aside_step, "fill_set_aside_idx"), step_list)
            # file_motion_to_set_aside = 'If you decide to file a <b>Motion to Set Aside</b>:'

  #### Add images to Certificate of Service step
          if unknown_final_date.all_true('reconsider', exclusive=True) \
            or unknown_final_date.all_true('appeal','reconsider', exclusive=True):
            add_unique_image({'image': service_cert_reconsider_set_aside_image, 'text': "Certificate of Service at the bottom of the Motion to Reconsider"}, images_list)
          if unknown_final_date.all_true('set aside', exclusive=True) \
            or unknown_final_date.all_true('appeal','set aside', exclusive=True):
            add_unique_image({'image': service_cert_reconsider_set_aside_image, 'text': "Certificate of Service at the bottom of the Motion to Set Aside"}, images_list)
          if unknown_final_date.all_true('reconsider','set aside', exclusive=True) \
            or unknown_final_date.all_true('reconsider','appeal','set aside'):
            add_unique_image({'image': service_cert_reconsider_set_aside_image, 'text': "Certificate of Service at the bottom of the Motion to Reconsider and the Motion to Set Aside"}, images_list)

  ##### Add File step heading and language for what to expect step
          if (type_of_final_order['custody order'] \
              and why_change in('review','schedule')) \
            or (type_of_final_order.any_true('property or debt','spousal support') \
              and why_change_divorce_order == 'changed circumstances'):
            if unknown_final_date.all_true('appeal', 'reconsider', exclusive = True) \
              or unknown_final_date.all_true('appeal', exclusive = True) \
              or unknown_final_date.all_true('reconsider', exclusive = True):
              motion_type = 'Motion to Modify'
          elif not (
            (type_of_final_order['custody order'] \
              and why_change in('review','schedule')) \
            and
            (type_of_final_order.any_true('property or debt','spousal support') \
              and why_change_divorce_order == 'changed circumstances')
            ):
            if unknown_final_date.all_true('reconsider', exclusive=True) \
              or unknown_final_date.all_true('appeal','reconsider', exclusive=True):
              file_step_heading = 'File your Motion to Reconsider'
            if unknown_final_date.all_true('set aside', exclusive=True) \
              or unknown_final_date.all_true('appeal','set aside', exclusive=True):
              file_step_heading = 'File your Motion to Set Aside'
              motion_type = 'Motion to Set Aside'
            if unknown_final_date['set aside'] :
              motion_type = 'Motion to Set Aside'

  #####SKIP steps for certificate of service, file, and serve if user is interested only in appeals and does not know the date of final order.
          if not unknown_final_date.all_true('appeal', exclusive=True):
            add_unique_step((cert_of_service_step, "cert_of_service_idx"), step_list)
            add_unique_step((file_motion_step, "file_motion_idx"), step_list)
            add_unique_step((serve_motion_step, "serve_motion_idx"), step_list)
          if unknown_final_date['set aside'] or ((type_of_final_order['custody order'] and why_change in('review','schedule')) \
          or (type_of_final_order.any_true('property or debt','spousal support') and why_change_divorce_order == 'changed circumstances')):
            add_unique_step((expect_after_motion_step, "expect_after_motion_idx"), step_list)
            log('unknown motion','console')
          if unknown_final_date['reconsider']:
            add_unique_step((expect_reconsider_step, "expect_reconsider_idx"), step_list)
            log('unknown reconsider','console')

      if (type_of_final_order['custody order'] and why_change in('review','schedule')) \
          or (type_of_final_order.any_true('property or debt','spousal support') and why_change_divorce_order == 'changed circumstances'):
        add_unique_step((cert_of_service_step, "cert_of_service_idx"), step_list)
        add_unique_step((file_motion_step, "file_motion_idx"), step_list)
        add_unique_step((serve_motion_step, "serve_motion_idx"), step_list)
        add_unique_step((expect_after_motion_step, "expect_after_motion_idx"), step_list)
        log('modify expect','console')

  add_unique_step((get_help, "get_help_idx"), step_list)
    
  for iter_idx, step_tuple in enumerate( step_list ):
    define(step_tuple[ 1 ], iter_idx + 1)
  get_steps = True
---
code: |
  # Alternatives to make sure we don't get duplicate steps

  #### Alternative 1:
  # Define them all at the top
  add_cert_of_service = False
  
  # Set which steps to add (interview order)
  if foo:
    add_cert_of_service = True
  if bar:
    add_cert_of_service = True
  make_steps
  
  ## Didn't like this part (like "alternative 1")
  ## If there are any special cases that are hard to keep track of
  ## and need to be in a specific visual order
  #add_file_step = False
  #if some_condition_that_adds_modify_step:
  #  add_file_step = True
  ## At the very end
  #if add_file_step:
  #  add_unique_step("")
    
  # Other code block or something. Maybe.
  # Gives better control over what order to add steps in the list
  step_list = []
  if add_cert_of_service:
    add_unique_step((cert_of_service_step, "cert_of_service_idx"), step_list)
  if add_other:
    add_unique_step("blah")
  make_steps = True
---
code: |
  #### Alternative 2:
  def add_unique_step(step, step_list):
    is_unique = True
    for chair in step_list:
      if chair[1] == step[1]:
        is_unique = False
    if is_unique:
      step_list.append(step)
      
  #if foo:
  #  add_unique_step((file_step, "file_idx"), step_list)
---
code: |
  def add_unique_image(new_image, image_list):
    is_unique = True
    for image in image_list:
      if image['image'] == new_image['image']:
        is_unique = False
    if is_unique:
      image_list.append(new_image)
---
comment: |
  Learn step for custody and divorce if modifying custody or child support. Child support interview has its own learn_modify_child_support_step. 
template: modify_step
subject: |
  Step ${ modify_idx }:
    % if user_need in('change custody order', 'change foreign custody order'):
    Learn about motions to modify
    % elif user_need == 'change divorce order':
    Learn about a Motion to Modify your Parenting Plan
    % elif user_need in('respond to motion in custody', 'respond to motion in divorce'):
    % if type_of_response == 'modify' and type_of_modification['custody']:
    Learn about motions to modify custody or a Parenting Plan order
    % elif type_of_response == 'modify' and type_of_modification['child support'] and not type_of_modification['custody']:
    Learn about motions to modify a child support order
    % endif
    % endif
content: |
  % if not user_need in('respond to motion in custody', 'respond to motion in divorce'):
  Changing your parenting plan or child support order is called "modifying" it. To ask the judge to change your order, file a **Motion to Modify**.
  % elif user_need in('respond to motion in custody', 'respond to motion in divorce'):
  Your judge will decide the motion based on {{ other_party_in_case }}'s request, your response, and the law. Learning about the law can help you decide what to write in your response.
  % endif
  % if user_need == 'change foreign custody order' or (user_need == 'change divorce order' and middle_of_case == 'no' and type_of_final_order['custody order'] and why_change in('review', 'schedule')) or (user_need in('respond to motion in custody', 'respond to motion in divorce') and type_of_response == 'modify' and type_of_modification['custody']):  
  The courts want children to have a regular schedule without a lot of changes. The courts will generally only change a parenting plan if there is a "substantial change in circumstances." A "substantial change in circumstances" means something has happened so that the old custody or parenting plan is no longer in the children's best interest.

  <div class="step-subheading">Some examples</div>
  <ul>
  <li>The current parenting plan order started when your child was an infant. They move between parents at noon Mondays, Wednesdays, and Fridays. Your child is starting kindergarten so the current schedule will not work.</li>
  <li>Under the current parenting plan order, your children spend one week with you and the next week with the other parent.  You are going to move out of state so the current schedule is impossible.</li>
  <li>Your children spend overnights with you and the other parent.  The other parent just went to jail for 2 years so the existing schedule is impossible.</li>
  <li>There was a new act of domestic violence between you and the other parent when you were exchanging the children.</li>
  </ul>
  % if user_need == 'change foreign custody order' or (not user_need in('respond to motion in custody', 'respond to motion in divorce') and middle_of_case == 'no'):
  The court charges $75 to file this motion. If you cannot afford the fee, you may be able to get the court to waive it. See the step about filing.
  % endif
  If the judge decides there is a substantial change of circumstances, the judge will order a new parenting plan in the children's best interest.
  
  If the judge changes the parenting plan, the judge may issue a new child support order.
  % endif
  
  % if  user_need == 'respond to motion in divorce' and type_of_response == 'modify' and type_of_modification['child support'] and not type_of_modification['custody']:
  The child support rule, [Alaska Rule of Civil Procedure 90.3](https://courts.alaska.gov/rules/docs/civ.pdf), states you need to prove there has been a “material change in circumstances” to modify child support. The most common changes in circumstances are:
  
  * Your children's schedule changes and they spend more or fewer overnights with you than they used to, or
  * Your income or the other parent's income changes.
  
  There needs to be:
  
  * A 15% change in the amount of child support ordered. So that when you calculate support based on the parents' current income, the amount is 15% more or less than the current support order.
  
  Or
  
  *	A change in the parenting plan that affects the child support formula. For example, changing from a primary custody to shared custody plan will probably change the amount of child support.
  
  If the judge decides there is a material change of circumstances, the judge will calculate a new child support order.
  % endif
  The Alaska Supreme Court has issued many [decisions](https://courts.alaska.gov/shc/family/shclaws.htm#cases) about what types of circumstances amount to a change of circumstances allowing a modification.

Comment: |
  % if (final_order_date_within_10_days or final_order_date_within_15_days) and modify_within_15_days:
  <div class="step-subheading">Timing</div>
  <p>A court will rarely grant a <strong>Motion to Modify </strong>made within 15 days of when the court made its final custody order unless something unexpected happened. Examples of why a court may grant a <strong>Motion to Modify</strong> are listed below.
  % endif
---
template: modify_divorce_step
subject: |
  Step ${ modify_divorce_idx }: 
  % if user_need == 'change divorce order' and middle_of_case == 'no':
  Learn about the Motion to Modify
  % if type_of_final_order['property or debt']:
  Divorce Property & Debt Division
  % endif
  % if type_of_final_order.all_true('property or debt', 'spousal support'):
   and 
  % endif
  % if type_of_final_order['spousal support']:
  Spousal Support
  % endif
  % endif
  % if user_need == 'respond to motion in divorce' and type_of_response == 'modify':
  Learn about motions to modify 
  % if type_of_modification['spousal support']:
  spousal support
  % endif
  % if type_of_modification.all_true('spousal support', 'property or debt'):
  and 
  % endif
  % if type_of_modification['property or debt']:
  division of property and debt
  % endif
  % endif
content: |
  % if user_need == 'change divorce order':
  Changing your divorce order is called “modifying” it.  To ask the judge to change your divorce order, file a **Motion to Modify**. The rules for changing spousal support are different from the rules for dividing property and debt.
  % endif
  % if user_need == 'change divorce order' and middle_of_case == 'no' and type_of_final_order['spousal support']:
  <div class="step-subheading">Change spousal support</div>
  % endif
  % if (user_need == 'change divorce order' and middle_of_case == 'no' and type_of_final_order['spousal support']) or (user_need == 'respond to motion in divorce' and type_of_response == 'modify' and type_of_modification['spousal support']):
  The court will generally only change spousal support if there is a "substantial change in circumstances."
  <div class = "example">
  <div class = "heading">Some examples</div>
  <ul>
  <li>The court ordered Spouse A to pay Spouse B spousal support.  Spouse B was very ill and could not work.  Spouse B is now better and has a full-time job.</li>
  <li>The court ordered Spouse A to pay Spouse B spousal support for 4 years so Spouse B could get a degree that would help them earn more money.  Spouse B got their degree in 3 years and now has a full-time job earning more money because of the degree.</li>
  </ul>
  </div>
  % endif

  % if user_need == 'change divorce order' and middle_of_case == 'no' and type_of_final_order['property or debt']:
  <div class="step-subheading">Change the property and debt division</div>
  % endif

  % if (user_need == 'change divorce order' and middle_of_case == 'no'and type_of_final_order['spousal support']) or (user_need == 'respond to motion in divorce' and type_of_response == 'modify' and type_of_modification['property or debt']):
  Changing the outcome of final property and debt decisions in a divorce case can be tough. Once the court decides who gets what, it is not easy to undo those decisions.
  
  <div class = "example">
  <div class = "heading">Some examples</div>
  <ul>
  <li>If the court awards the house to one spouse, they might sell it, and then it is impossible to get it back if the other spouse later wants the court to award them the house.</li>
  <li>The court orders one person to receive some money from the marriage. If they spend that money, it cannot be taken back later.</li>
  </ul>
  </div>
  % endif
  
--- 
template: fill_modify_divorce_step
subject: |
  Step ${ fill_modify_divorce_idx }: Fill out the motion form to modify
  % if type_of_final_order.all_true('property or debt', 'spousal support'):
  the property and debt division and the spousal support orders
  % elif type_of_final_order['property or debt']:
  the property and debt division order
  % elif type_of_final_order['spousal support']:
  the spousal support order
  % endif
content: |
  <div class="step-subheading">Use</div>
   <strong>Request to Modify Order or Decree Concerning Spousal Maintenance or Property Allocation, DR-735</strong> [<a href= "https://public.courts.alaska.gov/web/forms/docs/dr-735.pdf">Fill-In PDF</a>]
  <ul><li> Wait to sign the form until you are in front of someone who has the power to take oaths, like a notary public.
  <ul><li>The court clerk can do this for free.</li>
  <li>Bring a valid photo ID with you.</li>
  </ul></li>
  <li>If you cannot get to a notary public or someone who has the power to take oaths, you can "self-certify."  Use:
  <ul><li><strong>Self-Certification (No Notary Available), TF-835</strong> [<a href= "https://public.courts.alaska.gov/web/forms/docs/tf-835.pdf">Fill-In PDF</a>]</li></ul></li>
  </ul>
  
  <div class="step-subheading">Watch</div>
  
  * [Motions Part 1: How to Ask the Court For Something](https://www.youtube.com/watch?v=2irmxT0_0EA) 
---
template: respond_to_reconsider_step
subject: |
  Step ${ respond_to_reconsider_idx }: If the court asks, respond in writing to the Motion to Reconsider
content: |
  A <strong>Motion to Reconsider</strong> asks a judge to change a decision or order they made in the last 10 days.
  <ul>
  <li>Do not respond to a <strong>Motion to Reconsider</strong> unless the court asks you for a response, usually in a written order or notice. The court usually sets a deadline for a response. If no deadline is set, the response is due 10 days from the date the court distributed it to you. You can find this date by looking at the end of the written order or decision to see when the clerk emailed or mailed it to the parents.</li>
  <li>There will not be a hearing.</li>
  <li>The court may write a decision, but if the court does not issue a decision 30 days after the motion or response was filed, <strong>whichever is later</strong>, the <strong>Motion to Reconsider</strong> is denied, which means the original decision is not changed.</li>
  <li>If the court grants the <strong>Motion to Reconsider</strong>, it will either enter a new order or ask both sides for more information.</li>
  </ul>
  <div class="step-subheading">If the court asks for a response</div>
  <p>If the court asks for a response, provide the information the court asks for. You will have 10 days to file your response unless the court gives you a different deadline. Fill out:</p>
  <ul>
  <li><a href="https://public.courts.alaska.gov/web/forms/docs/civ-810.pdf">CIV-810</a> <strong>Response to Motion</strong></li>
  <li><a href="https://public.courts.alaska.gov/web/forms/docs/civ-820.pdf">CIV-820</a> <strong>Order on Motion</strong></li>
  </ul>
---
template: let_court_party_know_you_agree_step
subject: |
  Step ${ let_court_party_know_you_agree_idx }: Let ${ other_party_in_case } and the court know you agree with the 
  % if type_of_response == 'modify':
  proposed changes
  % elif middle_of_case == 'no' and type_of_response == 'set aside':
  Motion to Set Aside Judgment or Order
  % endif
content: |
  <div class="step-subheading">Options</div>
  % if type_of_response == 'modify' and type_of_modification.any_true('child support', 'custody') and type_of_modification.all_false('spousal support','property or debt', 'other'):
  If ${ other_party_in_case } files a **Motion to Modify** the parenting plan and custody order or the child support order, and you agree, you have options:
  % elif type_of_response == 'modify' and type_of_modification.any_true('spousal support','property or debt'):
  If ${ other_party_in_case } files a **Request to Modify Order or Decree Concerning Spousal Maintenance or Property**, and you agree, you have options:
  % elif type_of_response == 'modify' and type_of_modification.any_true('child support', 'custody') and type_of_modification.any_true('spousal support','property or debt'):
  If ${ other_party_in_case } files a  a **Motion to Modify** the parenting plan and custody order or the child support order and a **Request to Modify Order or Decree Concerning Spousal Maintenance or Property**, and you agree, you have options:
  % elif middle_of_case == 'no' and type_of_response == 'set aside' and respond_to_set_aside  == 'agree':
  A **Motion to Set Aside Judgment or Order** asks the trial court to set aside or "undo" a judgment or final order in a case.  If granted, the case will move ahead as if the judgment had not been made.  If you agree with what ${ other_party_in_case } asked to set aside in the motion, you have options.  
  % endif
  <ul>
  <li>Fill out a response that states you agree, file it with the court, and give ${ other_party_in_case } a copy. See Steps ${ respond_in_writing_idx } and ${ file_response_idx }.<br>
  <strong>Or</strong></li>
  <li>Contact ${ other_party_in_case } and put your agreement in writing together to file with the court. See Steps ${ contact_other_party_idx } and ${ file_agreement_idx}.</li>
  </ul>
  For both options, you must file all documents with the court within 10 days from the day the motion was hand delivered to you, or 13 days from the day it was mailed to you. You can see this date on the postmark of the envelope.
---
template: respond_in_writing_step
subject: |
  Step ${ respond_in_writing_idx }: Respond in writing and tell the court you
  % if type_of_response == 'modify' and respond_to_modify in('some', 'none'):
  do not agree with the proposed changes
  % elif middle_of_case == 'no' and type_of_response == 'set aside' and respond_to_set_aside in('some', 'none'):
  do not agree with the Motion to Set Aside Judgment or Order
  % elif (type_of_response == 'modify' and respond_to_modify == 'agree') or (middle_of_case == 'no' and type_of_response == 'set aside' and respond_to_set_aside == 'agree'):
  and ${ other_party_in_case } agree
  % endif
content: |
  % if (type_of_response == 'modify' and respond_to_modify == 'agree') or (middle_of_case == 'no' and type_of_response == 'set aside' and respond_to_set_aside == 'agree'):
  If you agree with everything ${ other_party_in_case } wrote in their **${ motion_type }**, you can state that in your response.
  
  % elif type_of_response == 'modify' and respond_to_modify in('some', 'none'):
  
  If you think there has not been a change in circumstances, or you do not agree with everything ${ other_party_in_case } put in their ${ motion_type }, you can respond in writing. 
  
  % elif middle_of_case == 'no' and type_of_response =='set aside' and respond_to_set_aside in('some', 'none'):
  
  A **Motion to Set Aside Judgment or Order** asks the trial court to set aside or "undo" a judgment or final order in a case. If granted, the case will move ahead as if the judgment had not been made. 
  
  If you do not agree with what ${ other_party_in_case } asked the court to set aside, you can respond in writing. 
  % endif
  
  In your response, explain why you disagree.

  State what you do and do not agree with.

  You must respond within 10 days from the day the motion  was hand-delivered to you or 13 days from the day it was mailed. You can see this date on the postmark of the envelope. 
    
    <div class="step-subheading">Fill out</div>
  % if type_of_response == 'modify' and type_of_modification.any_true('custody', 'child support'):
  **Response to Motion**, [DR-725](https://public.courts.alaska.gov/web/forms/docs/dr-725.pdf) 
  
  **Child Support Guidelines Affidavit, DR-305** [Fill-In PDF](https://public.courts.alaska.gov/web/forms/docs/dr-305.pdf)<br>   
  Each parent files their own 
  
  **Child Custody Jurisdiction Affidavit, DR-150** [Fill-In PDF](https://public.courts.alaska.gov/web/forms/docs/dr-150.pdf)<br>
  Each parent files their own
  
   <div class="step-subheading">Optional forms depending on your situation</div>
  Choose 1 form below based on the parenting schedule if it is not a primary custody calculation where children are with 1 parent for at least 256 overnights/year.
  
  **Shared Custody Support Calculation, DR-306** [Fill-In PDF](https://public.courts.alaska.gov/web/forms/docs/dr-306.pdf)
  
  **Divided Custody Support Calculation, DR-307** [Fill-In PDF](https://public.courts.alaska.gov/web/forms/docs/dr-307.pdf
  
  **Hybrid Custody Child Support Calculation, DR-308** [Fill-In PDF](https://public.courts.alaska.gov/web/forms/docs/dr-308.pdf)
  
  % else:
  CIV-808(https://https://public.courts.alaska.gov/web/forms/docs/civ-808total.pdf)(Packet) **Response to Motion Packet for Civil Cases**
  % endif
  
  <div class="step-subheading">Watch</div>
  [Motions Part 2: How to File an Opposition to a Motion](https://www.youtube.com/watch?v=E7cYJyRciBg)

---
template: contact_other_party_step
subject: |
  Step ${ contact_other_party_idx }: Contact ${ other_party_in_case }, and write out your agreement
content: |
  If you and ${ other_party_in_case } agree, and are able to work together to write out the agreement, you can fill out and file with the court:
  % if type_of_response == 'modify' and type_of_modification.any_true('custody','child support') and respond_to_modify == 'agree':
  <div class="step-subheading">If you are changing the custody and parenting plan</div
  Choose 1 parenting plan order. Do **not** sign the ORDER section:
  <ul>
  <li><strong>Parenting Plan Agreement &amp; Order, SHC-1128</strong><br>
  as a <a href="http://www.courts.alaska.gov/shc/family/docs/shc-1128.docx">Word file</a><br>
  as a <a href="http://www.courts.alaska.gov/shc/family/docs/shc-1128n.pdf">PDF</a></li>

  <li><strong>Agreement &amp; Order for Custody and Visitation, SHC-1126</strong><br>
  as a <a href="http://www.courts.alaska.gov/shc/family/docs/shc-1126.docx">Word file</a><br>
  as a <a href="http://www.courts.alaska.gov/shc/family/docs/shc-1126n.pdf">PDF</a></li>

  <li><strong>Joint Motion to Put Settlement on the Record, SHC-1063</strong><br>
  as a <a href="http://www.courts.alaska.gov/shc/family/docs/shc-1063.doc">Word</a> <a href="http://www.courts.alaska.gov/shc/family/docs/shc-1063.docx">file</a><br>
  as a <a href="http://www.courts.alaska.gov/shc/family/docs/shc-1063n.pdf">PDF</a></li>
  </ul>
  % endif
  % if type_of_response == 'modify' and type_of_modification.any_true('custody','child support') and respond_to_modify == 'agree':
  <div class="step-subheading">If you are changing child support</div>
  <ul>
  <li><strong>Order for Modification of Child Support</strong>, <a href="https://public.courts.alaska.gov/web/forms/docs/dr-301.pdf">DR-301</a> [Fill-In PDF]<br>
  Do <strong>not</strong> sign the Order section.</li>

  <li><strong>Child Support Guidelines Affidavit</strong>, <a href="https://public.courts.alaska.gov/web/forms/docs/dr-305.pdf">DR-305</a> [Fill-In PDF]<br>
  Each parent files their own</li>

  <li><strong>Child Custody Jurisdiction Affidavit</strong>, <a href="https://public.courts.alaska.gov/web/forms/docs/dr-150.pdf">DR-150</a> [Fill-In PDF]<br>
  Each parent files their own</li>

  <li>Choose 1 calculation below based on the parenting schedule if it is not a primary custody calculation, where children are with 1 parent for at least 256 overnights/year.
  <ul>
  <li><strong>Shared Custody Support Calculation</strong>, <a href="https://public.courts.alaska.gov/web/forms/docs/dr-306.pdf">DR-306</a> [Fill-In PDF]</li>
  <li><strong>Divided Custody Support Calculation</strong>, <a href="https://public.courts.alaska.gov/web/forms/docs/dr-307.pdf">DR-307</a> [Fill-In PDF]</li>
  <li><strong>Hybrid Custody Child Support Calculation</strong>, <a href="https://public.courts.alaska.gov/web/forms/docs/dr-308.pdf">DR-308</a> [Fill-In PDF]</li>
  </ul></li>
  </ul>
  % endif
  % if (type_of_response == 'modify' and type_of_modification.any_true('spousal support','property or debt','other') and respond_to_modify == 'agree') or (middle_of_case == 'no' and  type_of_response =='set aside' and respond_to_set_aside == 'agree'):
  <ul>
  <li><strong>Joint Motion to Put Settlement on the Record, SHC-1063</strong><br>
  as a <a href="http://www.courts.alaska.gov/shc/family/docs/shc-1063.doc">Word</a> <a href="http://www.courts.alaska.gov/shc/family/docs/shc-1063.docx">file</a><br>
  as a <a href="http://www.courts.alaska.gov/shc/family/docs/shc-1063n.pdf">PDF</a></li>
  % endif
  % if (type_of_response == 'modify' and respond_to_modify == 'agree') or (middle_of_case == 'no' and  type_of_response =='set aside' and respond_to_set_aside == 'agree'):
  <li><strong>Agreement & Order, SHC-1061</strong> <br>
  as a <a href="http://www.courts.alaska.gov/shc/family/docs/shc-1061.doc">Word</a> <a href="http://www.courts.alaska.gov/shc/family/docs/shc-1063.docx">file</a><br>
  as a <a href="http://www.courts.alaska.gov/shc/family/docs/shc-1061n.pdf">PDF</a></li>
  </ul>
  % endif  
 
---
template: file_response_step
subject: |
  Step ${ file_response_idx }: File and serve your response within 10 or 13 days
content: |
  If ${other_party_in_case } mailed a copy of the motion to you, you have 13 days to file and serve your response. Use the date of the postmark on the envelope.
  If they served you another way, you have 10 days to file and serve your response:
  <ol>    
  <li>Make 2 copies of your response and any other documents you include with it.</li>
  <li>File the original version of your response and documents with the court where the motion was filed. You can:
  <ul>
  <li>Deliver the documents to the court yourself.</li>
  <li>Mail the documents by first-class mail.</li>
  <li>Use the court's <a href="https://courts.alaska.gov/efile/">TrueFile  eFiling system</a> to send the documents to the court electronically.</li>
  </ul>
  </li>
  
  <li>Keep 1 copy for your own records.</li>
  <li>Give the 2nd copy to ${ other_party_in_case } on the date and way you wrote on your <strong>Certificate of Service</strong>.</li>
  </ol>
comment: |
  See [CIV-809 Instructions for Responding to Motions](https://public.courts.alaska.gov/web/forms/docs/civ-809.pdf) and [DR-721 Instructions for Responding to a Motion to change Custody Support or Visitation](https://public.courts.alaska.gov/web/forms/docs/dr-721.pdf)
---
template: file_agreement_step
subject: |
  Step ${ file_agreement_idx }: File your agreement with the court within 10 or 13 days
content: |
  You have 13 days to file your agreement if the motion was mailed to you, 10 days if you were served another way.
  <ul>
  <li>Make 2 copies of the forms you filled out stating your agreement -<br>
  1 copy for each of you.</li>
  <li>File the originals with the court where the motion was filed. </li>
  <li>File by the deadline - 10 or 13 days.<br>
  If the deadline is a weekend or holiday, your agreement is due the next day the court is open.<br>
  For example, if the deadline is a Saturday, and the court is open Monday, your agreement is due Monday.</li>
  </ul>
---
comment: |
  Based on [CIV-809 Instructions for Responding to Motions](https://public.courts.alaska.gov/web/forms/docs/civ-809.pdf) and [DR-721 Instructions for Responding to a Motion to change Custody Support or Visitation](https://public.courts.alaska.gov/web/forms/docs/dr-721.pdf)
  Replaced older version with newer, easier to read version see GitHub issue [expect_after_response_step #3](https://github.com/A2JatAKCourts/docassemble-ChangingDivorceOrderInterviewIssues/issues/3)
template: expect_after_response_step
subject: |
  Step ${ expect_after_response_idx }: What to expect after you respond to the ${ motion_type }
content: |
  <div class="step-subheading">${capitalize( other_party_in_case) } may file a Reply</div>
  
  If you serve ${ other_party_in_case } with your response:

  * by hand-delivery, email, or TrueFile, they have 5 days to reply to the court in writing,
  * by mail, they have 8 days.
  
  The documents ${ other_party_in_case } files after you serve them with your response is their "reply."  A Reply is not required.  
  
  <div class="step-subheading">The judge will issue an order</div>
  
  * The judge may set a date for a hearing, but they may decide the motion without a hearing:

   The judge may grant the ${ motion_type }.
  * The judge may deny the motion.
  * Keep following your court order unless the judge grants your motion and issues a new order.
  % if middle_of_case == 'no':
  * Either one of you can decide to appeal the decision about the ${ motion_type } if you believe the judge made a legal mistake. Learn more about filing an appeal - see the court's [Self-Help Services: Appeals](https://courts.alaska.gov/shc/appeals) web pages.
  % endif  
---
template: appeal_response_step
subject: |
  Step ${ appeal_response_idx }:
  % if respond_to_appeal == 'agree':
  Let ${ other_party_in_case } know you agree with the Appeal and decide if you want to respond in writing
  % else:
  Respond in writing to the Appeal
  % endif
content: |
  An appeal is the way to ask the Alaska Supreme Court to review the trial judge’s decision in your case. It is not a new trial or a chance to give a judge new evidence or information.  In an appeal, you argue that the trial judge made a legal mistake.  The civil appeals process is complicated, long and expensive. The process can take more than 2 years. [Talk to a lawyer](https://courts.alaska.gov/shc/appeals/appealsresources.htm#1), if you can.
  
  The only information the Supreme Court looks at is:
  
  * the audio recording of the hearing or trial in the lower court,
  * any items offered as evidence at the hearing or trial in the lower court,
  * the documents in the lower court or agency record, and
  * appeal briefs filed in the appeal to the Supreme Court.
  
  % if respond_to_appeal == 'agree':
  The Alaska Court System </a><a href="https://courts.alaska.gov/shc/appeals">Appeals</a> web pages have a lot of information about the process. You can also review a <a href="https://courts.alaska.gov/shc/appeals/docs/SHS_AP_1000.pdf">timeline for the steps in an appeal</a>.
  <div class="step-subheading">Agreement</div>
  If you agree with what ${ other_party_in_case } is asking for in the appeal, you have some options.
  <ul>
  <li>Contact ${ other_party_in_case } and write out your agreement. See Step ${ appeal_contact_parent_idx }.</li>
  <li>Tell the Alaska Supreme Court in writing you will not be a part of the appeal. See Step ${ tell_supreme_court_idx }.</li>
  </ul>
  % else:
  <div class="step-subheading">Timeline</div>
  You can review a <a href="https://courts.alaska.gov/shc/appeals/docs/SHS_AP_1000.pdf">timeline for the steps in an appeal</a>.
  <div class="step-subheading">Process</div>
  If you receive papers saying ${ other_party_in_case } filed an appeal, you need to prepare to respond. There are several times during the appeal that you need to be active:
  <ul>
  <li>after receiving the papers from ${ other_party_in_case } that start the appeal;</li>
  <li>when deciding whether to file your own appeal too which is called a "cross appeal;"</li>
  <li>when writing a response called a brief to ${ other_party_in_case }'s opening brief (written argument why the trial court decision should be changed); and</li>
  <li>when preparing for oral argument where both sides appear in the <a href="http://courts.alaska.gov/shc/appeals/appealsglossary.htm#supremecourt">Supreme Court</a> and each side argues their case and the <a href="http://courts.alaska.gov/shc/appeals/appealsglossary.htm#justice">justices</a> may ask questions.</li>
  </ul>
  The Alaska Court System <a href="https://courts.alaska.gov/shc/appeals">Appeals</a> web page has information about each of these steps and how you can prepare your side of the case.
  % endif
---
template: appeal_contact_parent_step
subject: |
  Step ${ appeal_contact_parent_idx }: Contact ${ other_party_in_case }
content: |
  If you agree with the appeal, you can contact and tell ${ other_party_in_case }. You can both do the following:
  <div class="step-subheading">In the Alaska Supreme Court appeal case</div>
  <ul>
  <li>The person who started the case can file:</li>
  <ul>
  <li><strong>Motion</strong> <a href="http://www.courts.alaska.gov/shc/appeals/docs/SHS_AP_400.doc">SHS-AP 400</a><br>
  Name it "Motion to Dismiss because of Settlement Agreement" </li>
  <li><strong>Affidavit &amp; Memorandum</strong> <a href="http://www.courts.alaska.gov/shc/appeals/docs/SHS_AP_410.doc">SHS-AP 410</a>, and </li>
  <li><strong>Order</strong> <a href="http://www.courts.alaska.gov/shc/appeals/docs/SHS_AP_420.doc">SHS-AP 420</a> telling the court the case can be dismissed. </li>
  </ul>
  <li>You can file a <strong>response</strong>, <a href="http://www.courts.alaska.gov/shc/appeals/docs/SHS_AP_440.doc">SHS-AP 440</a>, telling the court you agree.<br>
  </li>
  </ul>
  <div class="step-subheading">In the trial court, where you had your custody case</div>
  If your agreement about the appeal changes the current court order, you both should fill out and file:
  <ul>
  <li><strong>Agreement</strong> <strong>&amp; Order, SHC-1061</strong><br>
  as a <a href="http://www.courts.alaska.gov/shc/family/docs/shc-1061.doc">Word</a> <a href="http://www.courts.alaska.gov/shc/family/docs/shc-1063.docx">file</a><br>
  as a <a href="http://www.courts.alaska.gov/shc/family/docs/shc-1061n.pdf">PDF</a></li>
  <li><strong>Joint Motion</strong> <strong>to Put Settlement on the Record, SHC-1063</strong> <br>
  as a <a href="http://www.courts.alaska.gov/shc/family/docs/shc-1063.doc">Word</a> <a href="http://www.courts.alaska.gov/shc/family/docs/shc-1063.docx">file</a><br>
  as a <a href="http://www.courts.alaska.gov/shc/family/docs/shc-1063n.pdf">PDF</a></li>
  </ul>
---
template: tell_supreme_court_step
subject: |
  Step ${ tell_supreme_court_idx }: Tell the Alaska Supreme Court
content: |
  <ul>
  <li>Fill out and file: <strong>Notice of Decision Not to File Appellee Brief</strong>, <a href="http://www.courts.alaska.gov/shc/appeals/docs/SHS_AP_260.doc">SHS-AP 260</a> (Word document).</li>
  <li>Make 2 copies of the forms you filled out stating your agreement – 1 for you and 1 for ${ other_party_in_case }.</li>
  <li>You can write on the Notice that you agree with ${ other_party_in_case }.</li>
  <li>${ capitalize(other_party_in_case) } may want to file a <strong>Motion to Dismiss</strong> to stop the appeal from continuing. </li>
  </ul>
